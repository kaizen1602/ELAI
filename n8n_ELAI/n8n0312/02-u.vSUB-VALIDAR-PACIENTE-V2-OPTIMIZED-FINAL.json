{
  "name": "02-SUB-VALIDAR-PACIENTE-V3-CON-CACHE",
  "nodes": [
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "query"
            },
            {
              "name": "session_id"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -1632,
        176
      ],
      "id": "5065d7fd-2ec5-47d6-a6c7-809c1f43a7a3",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "jsCode": "const CONFIG = {\n  BACKEND_NGROK_URL: \"https://5e3708b60e02.ngrok-free.app\",\n  NGROK_HEADER_NAME: \"ngrok-skip-browser-warning\",\n  NGROK_HEADER_VALUE: \"true\",\n  N8N_WEBHOOK_SECRET: \"TuSecretoSuperSeguro123\",\n  TELEFONO_CLINICA: \"+573001234567\"\n};\n\nconsole.log('=== CONFIG CARGADA ===');\nconsole.log('BACKEND_NGROK_URL:', CONFIG.BACKEND_NGROK_URL);\n\nreturn {\n  json: {\n    ...CONFIG,\n    ...$json\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1584,
        176
      ],
      "id": "4a02af5c-711c-41d8-b74a-0abc0c3b7394",
      "name": "CONFIG"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ 'typing:' + $json.session_id }}",
        "value": "true"
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -1456,
        176
      ],
      "id": "096a0472-4223-4ac6-a4f2-1e979a86995f",
      "name": "Redis Start Typing",
      "credentials": {
        "redis": {
          "id": "kOI8a9sT8AozFYEo",
          "name": "Redis account 2"
        }
      },
      "notes": "Inicia el indicador de escritura"
    },
    {
      "parameters": {
        "functionCode": "// ===== EXTRAER Y VALIDAR DOCUMENTO =====\n\nconst query = ($json.query || '').toString().trim();\nconst session_id = $json.session_id;\n\nconsole.log('=== VALIDAR PACIENTE - INICIO ===');\nconsole.log('Query recibido:', query);\nconsole.log('Session ID:', session_id);\n\n// Validar que query tenga contenido\nif (!query || query.length === 0) {\n  console.error('âŒ Query vacÃ­o');\n  return {\n    json: {\n      success: false,\n      error: 'QUERY_VACIO',\n      mensaje: 'No encontrÃ© un nÃºmero de documento. Por favor, envÃ­ame tu cÃ©dula (solo nÃºmeros). ðŸ˜Š',\n      session_id,\n      documento: '',\n      documento_valido: false\n    }\n  };\n}\n\n// Extraer SOLO dÃ­gitos\nconst soloDigitos = query.replace(/[^0-9]/g, '');\nconst esValido = soloDigitos.length >= 8 && soloDigitos.length <= 15;\n\nconsole.log('DÃ­gitos extraÃ­dos:', soloDigitos);\nconsole.log('Longitud:', soloDigitos.length);\nconsole.log('Â¿Es vÃ¡lido?:', esValido);\n\nif (!esValido) {\n  return {\n    json: {\n      success: false,\n      error: 'DOCUMENTO_INVALIDO',\n      mensaje: `Hmm, ese nÃºmero no parece correcto ðŸ¤”\\n\\nPor favor, envÃ­ame tu cÃ©dula completa (entre 8 y 15 dÃ­gitos).`,\n      session_id,\n      documento: soloDigitos,\n      documento_valido: false\n    }\n  };\n}\n\nreturn {\n  json: {\n    success: true,\n    session_id,\n    documento: soloDigitos,\n    documento_valido: true\n  }\n};"
      },
      "name": "Extraer y Validar Documento",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -1296,
        176
      ],
      "id": "2e61c9dc-26cf-4203-9fd1-5282d7b2747e"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "doc-valido",
              "leftValue": "={{ $json.documento_valido }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -1056,
        176
      ],
      "id": "70926285-bf73-4002-9fcd-fa0a4d339cb8",
      "name": "Â¿Documento VÃ¡lido?"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('CONFIG').item.json.BACKEND_NGROK_URL + '/api/v1/pacientes/validar/' }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "ngrok-skip-browser-warning",
              "value": "true"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { \"documento\": $('Extraer y Validar Documento').item.json.documento } }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          },
          "timeout": 15000
        }
      },
      "name": "Buscar Paciente en Backend",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -816,
        64
      ],
      "id": "93c4a099-91f0-402b-95b5-75f980a0ed63",
      "alwaysOutputData": true,
      "continueOnFail": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "paciente-existe",
              "leftValue": "={{ $json.success }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -576,
        64
      ],
      "id": "9d182c21-cf81-4a52-8c2b-af932b601ba9",
      "name": "Â¿Paciente Encontrado?"
    },
    {
      "parameters": {
        "url": "={{ $('CONFIG').item.json.BACKEND_NGROK_URL + '/api/v1/conversaciones/activa-publica/' + $json.session_id + '/' }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "ngrok-skip-browser-warning",
              "value": "true"
            },
            {
              "name": "x-webhook-secret",
              "value": "={{ $('CONFIG').item.json.N8N_WEBHOOK_SECRET }}"
            }
          ]
        },
        "options": {
          "response": {
            "response": {
              "neverError": true,
              "responseFormat": "json"
            }
          },
          "timeout": 10000
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -336,
        -48
      ],
      "id": "a2ddeefa-1cc7-416b-b45e-9ca50f0a5a23",
      "name": "Consultar ConversaciÃ³n Activa",
      "alwaysOutputData": true,
      "continueOnFail": true,
      "notes": "Verifica si ya existe conversaciÃ³n"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "tiene-id",
              "leftValue": "={{ $json.id }}",
              "rightValue": "",
              "operator": {
                "type": "any",
                "operation": "exists"
              }
            },
            {
              "id": "no-error",
              "leftValue": "={{ $json.error }}",
              "rightValue": "",
              "operator": {
                "type": "any",
                "operation": "notExists"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -96,
        -48
      ],
      "id": "b43cd4ee-23ec-44b1-8f66-619116afb197",
      "name": "Â¿ConversaciÃ³n Existe?"
    },
    {
      "parameters": {
        "functionCode": "// ===== CONVERSACIÃ“N YA EXISTE - RETORNAR DATOS =====\n\nconst paciente = $('Buscar Paciente en Backend').first().json;\nconst conversacion = $('Consultar ConversaciÃ³n Activa').first().json;\n\nconsole.log('âœ… CONVERSACIÃ“N EXISTENTE');\nconsole.log('Paciente:', paciente.nombre);\nconsole.log('ConversaciÃ³n ID:', conversacion.id);\n\nconst pacienteId = Number(paciente.paciente_id);\nconst entidadMedicaId = Number(paciente.entidad_medica_id);\nconst conversacionId = Number(conversacion.id);\n\nif (isNaN(pacienteId) || isNaN(entidadMedicaId) || isNaN(conversacionId)) {\n    console.error('âŒ Error convirtiendo IDs');\n    return {\n        json: {\n            success: false,\n            error: 'CONVERSION_ERROR',\n            mensaje: 'Ups, algo saliÃ³ mal con tus datos. Â¿Intentamos de nuevo? ðŸ˜Š'\n        }\n    };\n}\n\nreturn {\n    json: {\n        success: true,\n        paciente_id: pacienteId,\n        nombre: paciente.nombre || 'Usuario',\n        documento: paciente.documento,\n        entidad_medica_id: entidadMedicaId,\n        token: paciente.token,\n        conversacion_id: conversacionId,\n        mensaje: `Â¡Hola de nuevo, ${paciente.nombre}! ðŸ˜Š\\nÂ¿En quÃ© puedo ayudarte hoy?`\n    }\n};"
      },
      "name": "Respuesta - ConversaciÃ³n Existe",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        144,
        -160
      ],
      "id": "044d49d0-badb-4120-8f61-80167299800a"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('CONFIG').item.json.BACKEND_NGROK_URL + '/api/v1/conversaciones/' }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "={{ 'Bearer ' + $('Buscar Paciente en Backend').item.json.token }}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "ngrok-skip-browser-warning",
              "value": "true"
            },
            {
              "name": "x-webhook-secret",
              "value": "={{ $('CONFIG').item.json.N8N_WEBHOOK_SECRET }}"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ {\n  \"session_id\": $('Extraer y Validar Documento').item.json.session_id,\n  \"paciente\": $('Buscar Paciente en Backend').item.json.paciente_id,\n  \"entidad_medica\": $('Buscar Paciente en Backend').item.json.entidad_medica_id,\n  \"estado\": \"ACTIVO\"\n} }}",
        "options": {
          "response": {
            "response": {
              "neverError": true
            }
          },
          "timeout": 15000
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        144,
        64
      ],
      "id": "408fb618-3afb-4fc0-abe9-3830cad5f345",
      "name": "Crear Nueva ConversaciÃ³n",
      "alwaysOutputData": true,
      "continueOnFail": true
    },
    {
      "parameters": {
        "functionCode": "// ===== NUEVA CONVERSACIÃ“N CREADA =====\n\nconst paciente = $('Buscar Paciente en Backend').first().json;\nconst conversacionResponse = $json;\n\nconsole.log('âœ… NUEVA CONVERSACIÃ“N');\n\n// Validar respuesta\nif (conversacionResponse.error) {\n    console.error('âŒ Error:', conversacionResponse.error);\n    \n    // Si el error es que ya existe, no es crÃ­tico\n    if (conversacionResponse.error.message && conversacionResponse.error.message.includes('already exists')) {\n        console.log('âš ï¸ ConversaciÃ³n ya existÃ­a (race condition)');\n    }\n    \n    return {\n        json: {\n            success: false,\n            error: 'ERROR_CREAR_CONVERSACION',\n            mensaje: 'Ups, tuve un problemita creando tu sesiÃ³n. Â¿Intentamos de nuevo? ðŸ˜Š'\n        }\n    };\n}\n\nconst pacienteId = Number(paciente.paciente_id);\nconst entidadMedicaId = Number(paciente.entidad_medica_id);\nconst conversacionId = conversacionResponse.id ? Number(conversacionResponse.id) : null;\n\nif (isNaN(pacienteId) || isNaN(entidadMedicaId)) {\n    console.error('âŒ Error convirtiendo IDs');\n    return {\n        json: {\n            success: false,\n            error: 'CONVERSION_ERROR',\n            mensaje: 'Ups, algo saliÃ³ mal. Â¿Intentamos de nuevo? ðŸ˜Š'\n        }\n    };\n}\n\nconsole.log('Paciente:', paciente.nombre);\nconsole.log('ConversaciÃ³n creada ID:', conversacionId);\n\nreturn {\n    json: {\n        success: true,\n        paciente_id: pacienteId,\n        nombre: paciente.nombre || 'Usuario',\n        documento: paciente.documento,\n        entidad_medica_id: entidadMedicaId,\n        token: paciente.token,\n        conversacion_id: conversacionId,\n        mensaje: `Â¡Bienvenido/a, ${paciente.nombre}! ðŸ˜Š\\n\\nEstoy lista para ayudarte. Â¿QuÃ© necesitas hoy?`\n    }\n};"
      },
      "name": "Respuesta - ConversaciÃ³n Creada",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        384,
        64
      ],
      "id": "90903b15-1aea-4590-8316-1d2649277323"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "name": "success",
              "value": false,
              "type": "boolean"
            },
            {
              "name": "error",
              "value": "DOCUMENTO_NO_ENCONTRADO",
              "type": "string"
            },
            {
              "name": "mensaje",
              "value": "No encontrÃ© un registro con ese documento en nuestro sistema ðŸ¤”\\n\\nÂ¿PodrÃ­as verificar que sea correcto?\\n\\nSi eres nuevo, comunÃ­cate con nosotros:\\nðŸ“ž {{ $vars.TELEFONO_CLINICA || '(601) 123-4567' }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -336,
        176
      ],
      "id": "cc7808c7-3c6e-404c-a5af-94e5fac773de",
      "name": "Paciente No Encontrado"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "name": "success",
              "value": "={{ $json.success }}",
              "type": "boolean"
            },
            {
              "name": "error",
              "value": "={{ $json.error }}",
              "type": "string"
            },
            {
              "name": "mensaje",
              "value": "={{ $json.mensaje }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -816,
        272
      ],
      "id": "b2ce5afb-80a2-41b1-943a-bac23a6a1171",
      "name": "Error ValidaciÃ³n Documento"
    },
    {
      "parameters": {
        "operation": "delete",
        "key": "={{ 'typing:' + $('When Executed by Another Workflow').first().json.session_id }}"
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        816,
        -160
      ],
      "id": "3afb2bc0-968d-44c7-ac80-0ae5677f499a",
      "name": "Redis Stop Typing (Existe)",
      "credentials": {
        "redis": {
          "id": "kOI8a9sT8AozFYEo",
          "name": "Redis account 2"
        }
      },
      "notes": "Detiene typing cuando conversaciÃ³n ya existe"
    },
    {
      "parameters": {
        "operation": "delete",
        "key": "={{ 'typing:' + $('When Executed by Another Workflow').first().json.session_id }}"
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        816,
        64
      ],
      "id": "bbd14e19-f144-4ef2-8693-8315c7906368",
      "name": "Redis Stop Typing (Creada)",
      "credentials": {
        "redis": {
          "id": "kOI8a9sT8AozFYEo",
          "name": "Redis account 2"
        }
      },
      "notes": "Detiene typing cuando se crea nueva conversaciÃ³n"
    },
    {
      "parameters": {
        "operation": "delete",
        "key": "={{ 'typing:' + $('When Executed by Another Workflow').first().json.session_id }}"
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -96,
        176
      ],
      "id": "edefda4c-b50f-4a7b-a523-6bd82b6e6aca",
      "name": "Redis Stop Typing (Not Found)",
      "credentials": {
        "redis": {
          "id": "kOI8a9sT8AozFYEo",
          "name": "Redis account 2"
        }
      },
      "notes": "Detiene typing cuando paciente no encontrado"
    },
    {
      "parameters": {
        "operation": "delete",
        "key": "={{ 'typing:' + $('When Executed by Another Workflow').first().json.session_id }}"
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -576,
        272
      ],
      "id": "844a3ac8-4a95-4a71-bb80-5b7636d5e4e8",
      "name": "Redis Stop Typing (Validation Error)",
      "credentials": {
        "redis": {
          "id": "kOI8a9sT8AozFYEo",
          "name": "Redis account 2"
        }
      },
      "notes": "Detiene typing cuando hay error de validaciÃ³n"
    },
    {
      "parameters": {
        "functionCode": "// ===== CALCULAR TTL HASTA MEDIANOCHE =====\n\nconst ahora = new Date();\nconst medianoche = new Date(ahora);\nmedianoche.setHours(24, 0, 0, 0);\n\nconst ttlSegundos = Math.floor((medianoche - ahora) / 1000);\n\nconsole.log('=== CÃLCULO TTL CACHÃ‰ DIARIO ===');\nconsole.log('Ahora:', ahora.toISOString());\nconsole.log('Medianoche:', medianoche.toISOString());\nconsole.log('TTL (segundos):', ttlSegundos);\n\nconst resultadoValidacion = $json;\nconst sessionId = $('Extraer y Validar Documento').first().json.session_id;\n\nif (!resultadoValidacion.paciente_id || !resultadoValidacion.success) {\n    console.log('âš ï¸ No hay paciente_id o validaciÃ³n fallÃ³, no se guarda cachÃ©');\n    return { json: resultadoValidacion };\n}\n\nconst datosCache = {\n    paciente_id: resultadoValidacion.paciente_id,\n    nombre: resultadoValidacion.nombre,\n    entidad_medica_id: resultadoValidacion.entidad_medica_id,\n    token: resultadoValidacion.token,\n    documento: resultadoValidacion.documento,\n    conversacion_id: resultadoValidacion.conversacion_id,\n    validado_at: ahora.toISOString(),\n    expires_at: medianoche.toISOString()\n};\n\nconsole.log('=== DATOS A GUARDAR EN CACHÃ‰ ===');\nconsole.log(JSON.stringify(datosCache, null, 2));\n\nreturn {\n    json: {\n        redis_key: `sophia:session:${sessionId}:daily-context`,\n        redis_value: JSON.stringify(datosCache),\n        redis_ttl: ttlSegundos,\n        ...resultadoValidacion\n    }\n};"
      },
      "id": "1ac206a8-f1e7-4406-8e19-f149be92b69b",
      "name": "Calcular TTL CachÃ©",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        576,
        -48
      ],
      "notes": "Calcula TTL hasta medianoche y prepara datos para Redis"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $json.redis_key }}",
        "value": "={{ $json.redis_value }}",
        "expire": true,
        "ttl": "={{ $json.redis_ttl }}"
      },
      "id": "8f4cd8dd-8c86-4785-9449-f995b24645fb",
      "name": "Guardar CachÃ© Diario",
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        704,
        -48
      ],
      "credentials": {
        "redis": {
          "id": "kOI8a9sT8AozFYEo",
          "name": "Redis account 2"
        }
      },
      "continueOnFail": true,
      "notes": "Guarda contexto en Redis con TTL hasta medianoche"
    }
  ],
  "pinData": {},
  "connections": {
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "CONFIG",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis Start Typing": {
      "main": [
        [
          {
            "node": "Extraer y Validar Documento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer y Validar Documento": {
      "main": [
        [
          {
            "node": "Â¿Documento VÃ¡lido?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Â¿Documento VÃ¡lido?": {
      "main": [
        [
          {
            "node": "Buscar Paciente en Backend",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error ValidaciÃ³n Documento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Buscar Paciente en Backend": {
      "main": [
        [
          {
            "node": "Â¿Paciente Encontrado?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Â¿Paciente Encontrado?": {
      "main": [
        [
          {
            "node": "Consultar ConversaciÃ³n Activa",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Paciente No Encontrado",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Consultar ConversaciÃ³n Activa": {
      "main": [
        [
          {
            "node": "Â¿ConversaciÃ³n Existe?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Â¿ConversaciÃ³n Existe?": {
      "main": [
        [
          {
            "node": "Respuesta - ConversaciÃ³n Existe",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Crear Nueva ConversaciÃ³n",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Respuesta - ConversaciÃ³n Existe": {
      "main": [
        [
          {
            "node": "Calcular TTL CachÃ©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Crear Nueva ConversaciÃ³n": {
      "main": [
        [
          {
            "node": "Respuesta - ConversaciÃ³n Creada",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Respuesta - ConversaciÃ³n Creada": {
      "main": [
        [
          {
            "node": "Calcular TTL CachÃ©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Paciente No Encontrado": {
      "main": [
        [
          {
            "node": "Redis Stop Typing (Not Found)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Error ValidaciÃ³n Documento": {
      "main": [
        [
          {
            "node": "Redis Stop Typing (Validation Error)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CONFIG": {
      "main": [
        [
          {
            "node": "Redis Start Typing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Calcular TTL CachÃ©": {
      "main": [
        [
          {
            "node": "Guardar CachÃ© Diario",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Guardar CachÃ© Diario": {
      "main": [
        [
          {
            "node": "Redis Stop Typing (Existe)",
            "type": "main",
            "index": 0
          },
          {
            "node": "Redis Stop Typing (Creada)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "33a2703a-1f05-4ed5-a747-75b55f8c6de5",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "11201dd6a30282e05f7379a1403b5b6ea5dc3878308c3a20144a818fa23f5329"
  },
  "id": "1B0BC7UVqfah4n2a",
  "tags": []
}